/*
We are extending Utopia's Fluid CSS system by dividing it into Landscape and Portrait orientations.
This approach benefits smaller desktop devices and tablets by starting with smaller font sizes
and spacing.

Since the CSS orientation property is also applied by desktop browsers when the
aspect ratio of the window is portrait, we add an additional check for the available width.
The Portrait design will only be activated for viewports up to 960px in width.
The Desktop design will be applied from 960px onwards, regardless of the CSS orientation.
*/

@media (orientation: portrait) and (max-width: 959px) {
  /* @link https://utopia.fyi/type/calculator?c=360,16,1.333,480,20,1.333,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */

  /**
   * Mobile:
   * - Min: 360px at 16px base (Samsung S21/S22) (font-size: 16px)
   * - iPhone SE (3rd generation): 375px (font-size: 16.5px)
   * - iPhone 12/13/14: 390px (font-size: 17px)
   * - iPhone 14 Pro Max: 430px (font-size: 18.3px)
   * - Max: 480px at 20px base (Samsung S24 Ultra) (font-size: 20px)
   */

  /**
    * Notes:
    * - Type Scales below 1.333 are too small for legibility to differentiate between text styles intuitively.
    * - Increasing type scales on mobile while also letting the base font size increase dramatically would badly
    *   influence the legibility of head lines as the number of characters is getting smaller than on smaller devices.
    * - Our solution: Keep the type scale at 1.333 and let the base font size increase.
    */
  :root {
    --debug-color: red;
    --step--2: clamp(0.5628rem, 0.1407rem + 1.8759vw, 0.7035rem);
    --step--1: clamp(0.7502rem, 0.1875rem + 2.5006vw, 0.9377rem);
    --step-0: clamp(1rem, 0.25rem + 3.3333vw, 1.25rem);
    --step-1: clamp(1.333rem, 0.3333rem + 4.4433vw, 1.6663rem);
    --step-2: clamp(1.7769rem, 0.4442rem + 5.923vw, 2.2211rem);
    --step-3: clamp(2.3686rem, 0.5921rem + 7.8953vw, 2.9607rem);
    --step-4: clamp(3.1573rem, 0.7893rem + 10.5244vw, 3.9467rem);
    --step-5: clamp(4.2087rem, 1.0522rem + 14.0291vw, 5.2609rem);
  }
}

@media (orientation: landscape) or (min-width: 960px) {
  /* @link https://utopia.fyi/type/calculator?c=1080,16,1.25,1920,20,1.5,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */

  /**
   * Desktop:
   * - Min: 1080px at 16px base + 1.25 type scale
   * - Max: 1920px at 20px base + 1.5 type scale
   */
  :root {
    --debug-color: blue;
    --step--2: clamp(0.5556rem, 0.7486rem + -0.1608vw, 0.64rem);
    --step--1: clamp(0.8rem, 0.7571rem + 0.0635vw, 0.8333rem);
    --step-0: clamp(1rem, 0.6786rem + 0.4762vw, 1.25rem);
    --step-1: clamp(1.25rem, 0.4464rem + 1.1905vw, 1.875rem);
    --step-2: clamp(1.5625rem, -0.0446rem + 2.381vw, 2.8125rem);
    --step-3: clamp(1.9531rem, -0.9598rem + 4.3155vw, 4.2188rem);
    --step-4: clamp(2.4414rem, -2.5558rem + 7.4033vw, 6.3281rem);
    --step-5: clamp(3.0518rem, -5.2288rem + 12.2675vw, 9.4922rem);
  }
}

html {
  font-size: var(--step-0);
}

body {
  border-top: 4px solid var(--debug-color);
}
